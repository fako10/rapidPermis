<!--<div class="prepa-page-wrapper"> -->

  <div class="quiz-layout">
    <div  class="quiz-left">
     <!-- <div class="prepa-quiz-container">-->

        <div *ngIf="loading" class="prepa-loading">Chargement des questions...</div>

        <div *ngIf="error" class="prepa-error">{{ error }}</div>

        <ng-container *ngIf="!loading && !error && !quizFinished">



          <div class="prepa-question-card" *ngIf="questions.length">

            <div class="questions-block">
              <img [src]="retrieveImage(questions[currentIndex].photo)" alt="Image" />
            </div>



            <h3 class="prepa-question-text">
              {{ questions[currentIndex].intitule }}
            </h3>

            <div class="answers">
              <label
                [class.selected-answer]="!showResult && strSelectedAnswer === 'A'"
                [class.correct]="showResult && isCorrect && strSelectedAnswer === 'A'"
                [class.wrong]="showResult && !isCorrect && strSelectedAnswer === 'A'"
                [class.disabled]="showResult"
              >
                <input type="radio"
                       name="'q' + {{questions[currentIndex].id}}"
                       [value]="'A'"
                       (change)="chooseAnswer( 'A')"
                       [(ngModel)]="selectedAnswer"
                       [disabled]="showResult">
                A) {{ questions[currentIndex].reponseA }}
              </label>
              <label
                [class.selected-answer]="!showResult && strSelectedAnswer === 'B'"
                [class.correct]="showResult && isCorrect && strSelectedAnswer === 'B'"
                [class.wrong]="showResult && !isCorrect && strSelectedAnswer === 'B'"
                [class.disabled]="showResult"
              >
                <input type="radio"
                       name="'q' +{{questions[currentIndex].id}}"
                       [value]="'B'"
                       (change)="chooseAnswer( 'B')"
                       [(ngModel)]="selectedAnswer"
                       [disabled]="showResult">
                B) {{ questions[currentIndex].reponseB }}
              </label>
              <label
                [class.selected-answer]="!showResult && strSelectedAnswer === 'C'"
                [class.correct]="showResult && isCorrect && strSelectedAnswer === 'C'"
                [class.wrong]="showResult && !isCorrect && strSelectedAnswer === 'C'"
                [class.disabled]="showResult"
              >
                <input type="radio"
                       name="'q' +{{questions[currentIndex].id}}"
                       [value]="'C'"
                       (change)="chooseAnswer( 'C')"
                       [(ngModel)]="selectedAnswer"
                       [disabled]="showResult">
                C) {{ questions[currentIndex].reponseC }}
              </label>
              <label
                [class.selected-answer]="!showResult && strSelectedAnswer === 'D'"
                [class.correct]="showResult && isCorrect && strSelectedAnswer === 'D'"
                [class.wrong]="showResult && !isCorrect && strSelectedAnswer === 'D'"
                [class.disabled]="showResult"

              >
                <input type="radio"
                       name="'q' +{{questions[currentIndex].id}}"
                       [value]="'D'"
                       (change)="chooseAnswer( 'D')"
                       [(ngModel)]="selectedAnswer"
                       [disabled]="showResult">
                D) {{ questions[currentIndex].reponseD }}
              </label>
            </div>

            <div *ngIf="showResult" class="prepa-feedback">
              <p *ngIf="isCorrect" class="prepa-good">‚úÖ Bonne r√©ponse !</p>
              <p *ngIf="!isCorrect" class="prepa-bad">‚ùå Mauvaise r√©ponse.</p>
              <button class="prepa-next-btn" (click)="nextQuestion()">Suivant ‚ûú</button>
            </div>

            <button class="prepa-validate-btn" *ngIf="selectedAnswer && !showResult"
                    [disabled]="!selectedAnswer || showResult"
                    (click)="submitAnswer()">
              Valider ma r√©ponse
            </button>
          </div>

        </ng-container>

        <div *ngIf="quizFinished" class="prepa-quiz-result">
          <h2>üéâ Quiz termin√© !</h2>
          <p>Score final : <strong>{{ score }}</strong> / {{ questions.length }}</p>
          <button class="prepa-restart-btn" (click)="restartQuiz()">Recommencer</button>
        </div>
      <!--</div>-->
    </div>

    <div class="quiz-right">

      <div class="prepa-quiz-header">
        <h2>Cat√©gorie : {{ category }}</h2>
        <p>Question {{ currentIndex + 1 }} / {{ questions.length }} ‚Äî Score : {{ score }}</p>
      </div>

      <div *ngIf="showResult" class="explanation-box">
        <h3>Explication</h3>
        <p>{{ questions[currentIndex].description }}</p>
      </div>

      <div *ngIf="!showResult" class="explanation-wait">
        S√©lectionnez une r√©ponse pour voir l‚Äôexplication ‚ûú
      </div>

    </div>
  </div>
<!--</div> -->

