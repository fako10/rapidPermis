<div class="admin-container">
  <h2>Gestion des questions ğŸ§ </h2>

  <!-- Formulaire -->
  <div class="form">
    <input [(ngModel)]="currentQuestion.intitule" placeholder="Texte de la question" />
    <input [(ngModel)]="currentQuestion.examen" placeholder="CatÃ©gorie" />
    <textarea [(ngModel)]="currentQuestion.description" placeholder="description"></textarea>
    <input [(ngModel)]="currentQuestion.reponseA" placeholder="RÃ©ponse A" />
    <input [(ngModel)]="currentQuestion.reponseB" placeholder="RÃ©ponse B" />
    <input [(ngModel)]="currentQuestion.reponseC" placeholder="RÃ©ponse C" />
    <input [(ngModel)]="currentQuestion.reponseD" placeholder="RÃ©ponse D" />
    <input [(ngModel)]="currentQuestion.correctAnswer" placeholder="Bonne rÃ©ponse (A/B/C/D)" />

    <input type="file" (change)="onFileChanged($event)" />
    <img *ngIf="previewUrl" [src]="previewUrl" width="200" alt="aperÃ§u image" style="margin:10px 0;display:block;">
    <button (click)="saveQuestion()">
      {{ editingQuestion ? 'Mettre Ã  jour' : 'Ajouter' }}
    </button>
    <button *ngIf="editingQuestion" (click)="cancelEdit()">Annuler</button>
  </div>

  <hr />

  <!-- Liste -->
  <h3>Liste des questions existantes</h3>
  <table>
    <tr>
      <th>ID</th>
      <th>CatÃ©gorie</th>
      <th>Texte</th>
      <th>Bonne rÃ©ponse</th>
      <th>Actions</th>
    </tr>
    <tr *ngFor="let q of questions">
      <td>{{ q.id }}</td>
      <td>{{ q.category }}</td>
      <td>{{ q.intitule }}</td>
      <td>{{ q.correctAnswer }}</td>
      <td>
        <button (click)="editQuestion(q)">âœï¸ Modifier</button>
        <button (click)="deleteQuestion(q.id!)">ğŸ—‘ï¸ Supprimer</button>
      </td>
    </tr>
  </table>
</div>
